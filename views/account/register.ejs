<%# Register view %>
<% if (title) { %>
<h1 class="body-heading"><%= title %></h1>
<% } else { res.redirect('/'); } %> 

<%- messages() %>
<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
    <% }) %>
    </ul>
<% } %>


<form action="/account/register" method="post" class="form">

  <div class="form-group">
    <label for="account_firstname">First name:</label>
    <input
      type="text"
      id="account_firstname"
      name="account_firstname"
      required
      value="<%= locals.account_firstname || '' %>"
    >
  </div>

  <div class="form-group">
    <label for="account_lastname">Last name:</label>
    <input
      type="text"
      id="account_lastname"
      name="account_lastname"
      required
      value="<%= locals.account_lastname || '' %>"
    >
  </div>

  <div class="form-group">
    <label for="account_email">Email address:</label>
    <input
      type="email"
      id="account_email"
      name="account_email"
      required
      value="<%= locals.account_email || '' %>"
    >
  </div>

  <div class="form-group">
    <label for="account_password">Password:</label>
    <span>
      Passwords must be at least 12 characters and contain at least 1 number,
      1 capital letter and 1 special character.
    </span>
    <input
      type="password"
      id="account_password"
      name="account_password"
      required
      pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
    >
  </div>

  <button type="submit" class="btn btn-primary">Register</button>
  <p>Already have an account? <a href="/account/login">Login</a></p>
</form>
